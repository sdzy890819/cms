<!DOCTYPE html><html><head><meta charset="UTF-8"><title>wangEditor2 test</title><link rel="stylesheet" href="../../dist/css/wangEditor.min.css"><style>#editor-trigger{height:300px;max-height:500px}.container{width:100%;margin:0 auto;position:relative}</style></head><body style="padding:0 20px"><p>wangEditor2.0 支持 IE8 浏览器</p><div class="container"><div id="editor-trigger"><p>请输入内容...</p></div></div><script src="../../dist/js/lib/jquery-1.10.2.min.js"></script><script src="lib/plupload/plupload.full.min.js"></script><script src="../../dist/js/wangEditor.js"></script><script>function printLog(o,i){window.console&&console.log(o,i)}function uploadInit(){var o=this,i=o.customUploadBtnId,n=(o.customUploadContainerId,new plupload.Uploader({browse_button:i,url:"/upload",flash_swf_url:"lib/plupload/plupload/Moxie.swf",sliverlight_xap_url:"lib/plupload/plupload/Moxie.xap",filters:{mime_types:[{title:"图片文件",extensions:"jpg,gif,png,bmp"}]}})),t=[];n.init(),n.bind("FilesAdded",function(o,i){$.each(i,function(o,i){printLog("添加文件"+i.name)}),o.start()}),n.bind("FileUploaded",function(o,i,n){var l=n.response;t.push(l),printLog("一个图片上传完成，返回的url是"+l)}),n.bind("UploadComplete",function(i,n){printLog("所有图片上传完成");try{$.each(t,function(i,n){printLog("即将插入图片"+n),o.command(null,"insertHtml",'<img src="'+n+'" style="max-width:100%;"/>')})}catch(o){}finally{t=[],o.hideUploadProgress()}}),n.bind("UploadProgress",function(i,n){o.showUploadProgress(n.percent)})}var editor=new wangEditor("editor-trigger");editor.config.customUpload=!0,editor.config.customUploadInit=uploadInit,editor.create()</script></body></html>