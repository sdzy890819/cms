// 缩进 菜单插件
!function(E,$){E.createMenu(function(check){var menuId="indent";if(check(menuId)){var editor=this,menu=new E.Menu({editor:editor,id:menuId,title:"缩进",$domNormal:$('<a href="#" tabindex="-1"><i class="wangeditor-menu-img-indent-left"></i></a>'),$domSelected:$('<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-indent-left"></i></a>')});menu.clickEvent=function(e){function commandFn(){$p.css("text-indent","2em")}var $p,elem=editor.getRangeElem(),p=editor.getSelfOrParentByName(elem,"p");return p?($p=$(p),void editor.customCommand(e,commandFn)):e.preventDefault()},menu.clickEventSelected=function(e){function commandFn(){$p.css("text-indent","0")}var $p,elem=editor.getRangeElem(),p=editor.getSelfOrParentByName(elem,"p");return p?($p=$(p),void editor.customCommand(e,commandFn)):e.preventDefault()},menu.updateSelectedEvent=function(){var $p,indent,elem=editor.getRangeElem(),p=editor.getSelfOrParentByName(elem,"p");return!!p&&($p=$(p),indent=$p.css("text-indent"),!(!indent||"0px"===indent))},editor.menus[menuId]=menu}})}(window.wangEditor,window.jQuery);