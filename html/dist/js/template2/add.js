define(["app","./addForm","../data/getData","../moduls/Tool","form","position","fixedNav"],function(app,getList,getData,Tool){app.directive("template2Add",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../template/common/addAndEdit.html",controller:function($scope,$state){$scope.title="新增模版二",$scope.$parent.menu.push({name:$scope.title}),$scope.rlease=function(obj){var templateClassify;$.each(obj.selects,function(){"templateClassify"==this.title&&(templateClassify=this.type)}),getData.template.createTemplate2({templateName:obj.templateName,filename:obj.filename,path:obj.path,templateClassify:templateClassify,encoded:obj.encoded,callback:function(_data){layui.use(["layer"],function(){layui.layer.msg(_data.message),0==_data.code&&$state.go("template2.list")})}})},getList(function(list){$scope.formdata={title:$scope.title,list:list,submit:[{name:"确认发布",evt:"rlease",icon_cls:"ok"},{name:"清空",evt:"cancel",icon_cls:"cancel",cls:"cancel"}]},$scope.$apply()})}}})});