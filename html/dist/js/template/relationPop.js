define(["app","jquery","../data/getData","../moduls/factory","../moduls/directive"],function(t,a,e){return{init:function(t){t.$uibModal,t.list;var n=t.obj.id;t.$uibModal.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"../template/template/relationPop.html",windowClass:"relationPopsuper",controller:function(l,i,o){l.initData=null,angular.extend(l,{titelement:{close:!0},save:function(a){t.save(a,l.data)},cancel:function(a){t.cancel(a,l.data)},close:function(){i.dismiss("cancel")},setTab:function(t,e,n){n.currentTarget;var l=a(".relation-pop"),i=l.find(".title li"),o=l.find(".content .option");i.removeClass("current").eq(e).addClass("current"),o.hide().eq(e).show()},selectBox:function(t,a,l){1==t.currentTarget.checked?e.template.createRelation({templateId:n,relationId:a.id,relationType:l,callback:function(){}}):e.template.delRelation({templateId:n,relationId:a.id,relationType:l,callback:function(){}})},recommendColumnlistDone:function(){setTimeout(function(){var t=a(".relation-pop");t.find(".title li");t.find(".content .option").hide().eq(0).show()},200)}}),e.data.all({callback:function(t){l.tabs=t.data.relationType;var n=null;a.each(l.tabs,function(){1==(n=this.type)?e.news.relationColumnList({callback:function(t){l.relationColumnListData=t.data,l.$apply()}}):2==n?e.fragment.list({callback:function(t){l.fragmentListData=t.data,l.$apply()}}):3==n?e.topic.topicClassifyList({callback:function(t){l.topicClassifyListData=t.data,l.$apply()}}):4==n&&e.news.recommendColumnlist({alert:!1,callback:function(t){l.recommendColumnlistData=t.data,l.$apply()}})})}}),e.template.relation({templateId:n,relationType:0,callback:function(t){l.initData=t.data}})}})},updateData:function(){}}});