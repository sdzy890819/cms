define(["../data/getData","../moduls/Tool"],function(e,t){function a(e){var a=e.self;"select"==a.type?a.select[0][0].title==e.name&&"templateClassify"==e.name?(a.select[0]=[a.select[0][0]],a.select[0]=a.select[0].concat(t.changeObjectName(e.data.templateClassify,[{name:"type",newName:"id"}]))):a.select[0][0].title==e.name&&"channelId"==e.name&&(a.select[0]=[a.select[0][0]],
//self.select[0] = self.select[0].concat(obj.data);
a.select[0]=a.select[0].concat(t.changeObjectName(e.data,[{name:"channelName",newName:"name"}]))):"radio"==a.type&&"templateClassify"==e.name&&("encoded"==a.title?(a.radio=t.changeObjectName(e.data.encoded,[{name:"name",newName:"title"}]),a.radio[0].checked=!0):"job"==a.title&&(a.radio=t.changeObjectName(e.data.job,[{name:"name",newName:"title"}]),a.radio[0].checked=!0))}var l=[//表单
{title:"templateName",name:"模版名称",type:"text",//text textarea radio checkbox edit
placeholder:"请输模版名称",verify:"title"},{title:"templateDesc",name:"模版说明",placeholder:"请输模版入说明",type:"textarea"},[{title:"filename",name:"发布文件名",type:"text",placeholder:"例如:index.html",verify:"required"},{title:"path",name:"发布目录",placeholder:"例如：/list/",type:"text",//text textarea radio checkbox edit
verify:"path"}],[{title:"templateClassify",selectName:["templateClassify"],name:"选择模版",type:"select",verify:"select",select:[[{name:"请选择选择模版",title:"templateClassify"}]]},{title:"channelId",selectName:["channelId"],name:"选择频道",type:"select",verify:"select",select:[[{name:"请选择频道",title:"channelId"}]]}],[{title:"encoded",name:"编码",type:"radio",radio:[]},{title:"sortNum",name:"排序",placeholder:"请输入排序",type:"text",//text textarea radio checkbox edit
pattern:"/\\d+/",verify:"number"}],{title:"job",name:"生成方式",type:"radio",radio:[]}];return function(t){e.data.all({callback:function(n){e.channel.listChannel({callback:function(e){$.each(l,function(t,l){"array"==$.type(l)?$.each(l,function(){a({self:this,data:n.data,name:"templateClassify"}),a({self:this,data:e.data,name:"channelId"})}):(a({self:this,data:n.data,name:"templateClassify"}),a({self:this,data:e.data,name:"channelId"}))}),t(l)}})}})}});