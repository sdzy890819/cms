define(["app","jquery","require","../data/getData","./recommendcolumnForm","../common/editPop","formlist","position","fixedNav","../moduls/service","../moduls/factory"],function(e,t,n,a,l,i){e.directive("recommendcolumnList",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../template/common/list.html",controller:function(e,t,n,c,d,o){e.title="推荐栏目列表",e.$parent.menu.push({name:e.title}),angular.extend(e,{edit:function(e){i.init({id:e.id,obj:e,list:l,updateData:function(t){t({data:e})},save:function(e,t){a.news.updateRecommendColumn({id:t.id,columnName:e.columnName,callback:function(e){layui.use(["layer"],function(){layui.layer.msg(e.message),o.reload()})}})},callback:function(e,t){t(e)},$uibModal:n})},del:function(e){t.alert({text:"您确定要删除"+e.columnName+"吗",btn:["确定","取消"],fn:function(){a.news.deleteRecommendColumn(e)}}),e.callback=function(e){layui.use(["layer"],function(){layui.layer.msg(e.message),o.reload()})}},filter:["id"]}),a.news.recommendColumnlist({callback:function(t){var n=[{name:"id",key:"id",width:"100"},{name:"栏目名称",key:"columnName"},{name:"操作",width:"120",class:"center"}];e.listdata={title:e.title,table:{select:!0,th:n,td:d.setArr(t.data,n),edit:[{cls:"edit",name:"编辑",evt:e.edit},{cls:"del",name:"删除",evt:e.del}]}},d.extendChild(e.listdata.table.td,e.listdata.table.edit,"edit"),e.$apply()}})},link:function(e,t){}}})});