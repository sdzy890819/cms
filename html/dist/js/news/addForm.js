define(["../data/getData","../moduls/Tool"],function(e,t){var l=[[{title:"title",name:"标题",placeholder:"请输入标题",type:"text",cls:"w450",verify:"title"},{title:"subTitle",name:"附标题",placeholder:"请输入附标题",type:"text",cls:"w450",check:!1}],[{title:"keyword",name:"关键字",placeholder:"关键字之间以 “,” 隔开",type:"text",verify:"required"},{title:"author",name:"作者",placeholder:"请输入作者",type:"text"},{title:"source",name:"来源",placeholder:"请输入作者来源",type:"text",verify:"required"},{title:"stock",name:"股票代码",placeholder:"股票代码",type:"text"}],[{title:"description",name:"描述",cls:"w320",placeholder:"描述",type:"textarea",check:!1},{title:"push",fromName:"推送栏目",toName:"已推送",type:"selectSize",fromSelect:[],toSelect:[]}],{title:"channelId",selectName:["categoryId","channelId","columnId"],name:"选择频道栏目",type:"select",verify:"select",select:[[{name:"请选择部门",title:"categoryId"}],[{name:"请选择频道",title:"channelId"}],[{name:"请选择栏目",title:"columnId"}]]},{title:"content",cls:"newsEdit",name:"内容",width:"1100px",height:"600px",type:"edit",verify:"title"},[{title:"editPublishTime",name:"撰写时间",placeholder:"请选择时间 年/月/日 时:分:秒",type:"date",check:!1},{title:"timer",name:"定时发布",placeholder:"请选择时间 年/月/日 时:分:秒",type:"date",check:!1},{title:"show",name:"是否发布",type:"radio",radio:[{title:"no",name:"否"},{title:"yes",name:"是",checked:!0}]}],{title:"field1",name:"扩展字段",placeholder:"请输入扩展字段内容",num:1,inputMaxNum:5,type:"text"}];return function(a){e.category.listCategory({callback:function(c){e.news.relationColumnList({callback:function(e){$.each(l,function(l,a){"array"==$.type(a)?$.each(a,function(t,l){if("selectSize"==l.type){var a=[];$.each(e.data,function(e,t){$.each(t.list,function(e,l){a.push({id:t.channel.id+"-"+l.id,name:t.channel.channelName+"—"+l.columnName,parent:t.channel,child:l})})}),l.fromSelect=a}}):"select"==a.type&&"categoryId"==a.select[0][0].title&&(a.select[0]=[a.select[0][0]],a.select[0]=a.select[0].concat(t.changeObjectName(c.data,[{name:"categoryName",newName:"name"}])))}),a(l)}})}})}});