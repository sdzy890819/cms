define(["app","jquery","form"],function(app,$){return{init:function(obj){obj.$uibModal;obj.$uibModal.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"../template/upload/pop.html",size:"normal",controller:function($scope,$uibModalInstance,$css,Upload,$timeout){$scope.dataList=obj.data;var reg=/\.(exe|rar|zip|tar|gz|dll)$/;angular.extend($scope,{uploadPic:function(file){file&&file.name.search(reg)<0?obj.data.event(file,$uibModalInstance):layui.use(["layer"],function(){var layer=layui.layer;layer.alert("请上传正确的文件格示。",{skin:"layui-layer-molv",title:"上传失败",anim:1,btn:["确定"],shadeClose:!0},function(index){layer.close(index)})})},close:function(){$uibModalInstance.dismiss("cancel")}})}})},close:function(){},updateData:function(){}}});