define(["app","./moduls/directive"],function(app){app.directive("positionNav",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../template/common/positionNav.html",scope:{edit:"=edit",submit:"=submit"},controller:function($scope,$state){var icon={add:"plus",save:"save",edit:"edit",del:"trash",down:"download-alt",plus:"plus-sign",magnet:"magnet",ok:"ok"};$scope.edit&&($scope.edit.nav&&$.each($scope.edit.nav,function(){this.cls=icon[this.cls]}),$scope.edit.list&&$.each($scope.edit.list,function(){this.cls=icon[this.cls]}))},link:function($scope,element){function listFinish(){var ele=$(".position-fixed"),list=ele.find(".list"),timer=0;ele.find(".edit").mouseenter(function(){list.show(),setTimeout(function(){list.addClass("cur")},20),clearTimeout(timer)}).mouseleave(function(){list.removeClass("cur"),timer=setTimeout(function(){list.hide()},520)})}$scope.$on("listFinish",listFinish)}}})});