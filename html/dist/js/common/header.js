define(["app","require","./data/getInitInfo","./data/getData"],function(e,n,t,r){e.directive("headerNav",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../template/common/header.html",controller:function(e,u){r.user.currentUser({callback:function(n){e.currentUser=n}}),angular.extend(e,{loginOut:function(){t.loginOut()},editUser:function(t){n(["./user/editUser","./user/addForm"],function(n,r){n.init({obj:t,list:r,$uibModal:u,updateData:function(n){n(e.currentUser)},callback:function(e,n){var t=[];$.each(e,function(e,n){"userName"!=n.title&&t.push(n)}),n(t)}})})}})},link:function(e,n){var t=$(n[0]),r=t.find(".dropdown-menu"),u=0;t.find(".myInfo").mouseenter(function(){r.show(),setTimeout(function(){r.addClass("cur")},20),clearTimeout(u)}).mouseleave(function(){r.removeClass("cur"),u=setTimeout(function(){r.hide()},520)})}}})});