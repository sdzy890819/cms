define(["app","./baseForm","../data/getData","form","position","fixedNav"],function(app,list,Data){app.directive("imageBase",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../template/common/addAndEdit.html",controller:function($scope,$state){$scope.title="图片基础信息",$scope.$parent.menu.push({name:$scope.title}),$scope.save=function(obj,_detail){void 0!=$scope.data.id?Data.image.updateImageBase({id:$scope.data.id,baseUrl:obj.baseUrl,basePath:obj.basePath,callback:function(_data){layui.use(["layer"],function(){var layer=layui.layer;layer.msg(_data.message)})}}):Data.image.createImageBase({baseUrl:obj.baseUrl,basePath:obj.basePath,callback:function(_data){layui.use(["layer"],function(){var layer=layui.layer;layer.msg(_data.message)})}})},Data.image.imageBase({callback:function(_data){$scope.formdata={title:$scope.title,list:list,submit:[{name:"保存",evt:"save",icon_cls:"save"}]},$scope.data=_data.data}})}}})});