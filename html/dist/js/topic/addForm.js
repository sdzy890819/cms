define(["../data/getData","../moduls/Tool"],function(e,t){function a(e){var a=e.self;"select"==a.type&&a.select[0][0].title==e.title&&(a.select[0]=[a.select[0][0]],a.select[0]=a.select[0].concat(t.changeObjectName(e.data.data,[{name:e.changeName,newName:"name"}])))}var l=[{title:"topicTitle",name:"专题标题",type:"text",placeholder:"请输入专题标题",verify:"title"},[{title:"topicPath",name:"发布目录",type:"text",placeholder:"例如：/list/",verify:"path"},{title:"topicFilename",name:"专题文件名",placeholder:"例如: index.html",type:"text",verify:"html"}],{title:"channelId",selectName:["categoryId","channelId"],name:"请选择分类",type:"select",verify:"select",select:[[{name:"请选择部门类别",title:"categoryId"}],[{name:"请选择频道类别",title:"channelId"}]]},[{title:"topicClassifyId",selectName:["topicClassifyId"],name:"专题分类",type:"select",verify:"select",select:[[{name:"请选择专题分类",title:"topicClassifyId"}]]},{title:"topicColumnId",selectName:["topicColumnId"],name:"系列专题",type:"select",select:[[{name:"请选择专题栏目",title:"topicColumnId"}]]}],[{title:"releaseTime",name:"发布时间",placeholder:"请选择时间 YYYY-MM-DD ",type:"date",verify:"title"},{title:"keyword",name:"关键字",placeholder:"请输入关键字以“,”间隔",type:"text",verify:"title"}],{title:"description",name:"描述",placeholder:"请输入描述",type:"textarea"},{title:"topicContent",name:"内容",height:100,placeholder:"请输入内容",type:"textarea",verify:"title"}];return function(t){e.topic.topicColumnList({callback:function(i){e.topic.topicClassifyList({callback:function(c){e.category.listCategory({callback:function(e){$.each(l,function(t,l){"array"==$.type(l)?$.each(l,function(){a({self:this,title:"topicColumnId",data:i,changeName:"columnName"}),a({self:this,title:"topicClassifyId",data:c,changeName:"classifyName"}),a({self:this,title:"categoryId",data:e,changeName:"categoryName"})}):(a({self:this,title:"topicColumnId",data:i,changeName:"classifyName"}),a({self:this,title:"topicClassifyId",data:c,changeName:"classifyName"}),a({self:this,title:"categoryId",data:e,changeName:"categoryName"}))}),t(l)}})}})}})}});