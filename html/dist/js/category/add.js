define(["app","./addForm","../data/getData","../moduls/Tool","form","position","fixedNav"],function(app,getList,getData,Tool){app.directive("categoryAdd",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../template/common/addAndEdit.html",controller:function($scope,$state){$scope.$parent.menu.push({name:"新增部门分类"}),$scope.save=function(obj){getData.category.createCategory({categoryName:obj.categoryName,categoryDesc:obj.categoryDesc,callback:function(_data){layui.use(["layer"],function(){layui.layer.msg(_data.message),0==_data.code&&$state.go("category.list")})}})},$scope.rlease=function(obj){},$scope.view=function(obj){},$scope.cancel=function(obj){},getList(function(list){$scope.formdata={title:"新增分类",list:list,submit:[{name:"保存",evt:"save",icon_cls:"ok"}]},$scope.$apply()})}}})});