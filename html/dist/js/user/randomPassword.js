define(["app","form","position","fixedNav","../moduls/service"],function(app,list){app.directive("userRandomPassword",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../template/common/addAndEdit.html",controller:function($scope,pop){function randomAlphanumeric(charsLength,chars){var length=charsLength;if(!chars)var chars="~!@#$%^&*()_+abcdefghijkmnpqrstuvwxyzABCDEFGHJKMNPQRSTUVWXYZ23456789";var randomChars="";for(x=0;x<length;x++){var i=Math.floor(Math.random()*chars.length);randomChars+=chars.charAt(i)}return randomChars}$scope.title="用户密码随机生成",$scope.$parent.menu.push({name:$scope.title}),angular.extend($scope,{save:function(arr){alert(arr)},cancel:function(arr){alert(arr)},rendomPwd:function(obj,target){var pwd=randomAlphanumeric(9);$(target).parent().parent().prev().find("input").val(pwd),pop.alert({title:"生成密码成功",text:"请记住您的密码："+pwd,btn:["确定"],fn:function(index){layer.close(index)}})},edit:{list:[{name:"保存",evt:$scope.save,cls:"add"}]}}),$scope.formdata={title:$scope.title,list:[[{title:"title",name:"用户密码",type:"password"},{title:"button",name:"生成密码",type:"button",evt:$scope.rendomPwd}]],submit:[{name:"保存",evt:"save",icon_cls:"save"},{name:"取消",evt:"cancel",icon_cls:"cancel",cls:"cancel"}]}}}})});