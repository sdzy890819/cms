define(["app","jquery","../data/getData","../moduls/Tool"],function(i,a,t,e){return{init:function(i){i.$uibModal;i.$uibModal.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"../template/template/positionPop.html",controller:function(e,o,n,s){angular.extend(e,{titelement:{close:!0},title:"编辑所属用户组",save:function(a){i.save(a,e.data)},cancel:function(a){i.cancel(a,e.data)},select:function(a){var e=a.currentTarget;e.checked?t.position.setUserPosition({userId:i.obj.userId,positionId:e.dataset.id,callback:function(i){layui.use(["layer"],function(){layui.layer.msg(i.message)})}}):t.position.delUserPosition({userId:i.obj.userId,positionId:e.dataset.id,callback:function(i){layui.use(["layer"],function(){layui.layer.msg(i.message)})}})},close:function(){n.dismiss("cancel")}});var l=[];t.position.listUserPosition({userId:i.obj.userId,callback:function(i){a.each(i.data,function(i,a){l.push(a.positionId)}),t.position.listPosition({callback:function(i){a.each(i.data,function(i,t){t.ischecked=-1!=a.inArray(t.id,l)}),e.listPositionData=i.data,e.$apply()}})}})}})}}});