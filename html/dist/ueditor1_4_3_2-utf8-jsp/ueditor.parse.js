/*!
 * UEditor
 * version: ueditor
 * build: Tue Aug 25 2015 15:27:16 GMT+0800 (CST)
 */
!function(){!function(){UE=window.UE||{};var isIE=!!window.ActiveXObject,utils={removeLastbs:function(url){return url.replace(/\/$/,"")},extend:function(t,s){for(var a=arguments,notCover=!!this.isBoolean(a[a.length-1])&&a[a.length-1],len=this.isBoolean(a[a.length-1])?a.length-1:a.length,i=1;i<len;i++){var x=a[i];for(var k in x)notCover&&t.hasOwnProperty(k)||(t[k]=x[k])}return t},isIE:isIE,cssRule:isIE?function(key,style,doc){var indexList,index;doc=doc||document,indexList=doc.indexList?doc.indexList:doc.indexList={};var sheetStyle;if(indexList[key])sheetStyle=doc.styleSheets[indexList[key]];else{if(void 0===style)return"";sheetStyle=doc.createStyleSheet("",index=doc.styleSheets.length),indexList[key]=index}return void 0===style?sheetStyle.cssText:void(sheetStyle.cssText=sheetStyle.cssText+"\n"+(style||""))}:function(key,style,doc){doc=doc||document;var node,head=doc.getElementsByTagName("head")[0];if(!(node=doc.getElementById(key))){if(void 0===style)return"";node=doc.createElement("style"),node.id=key,head.appendChild(node)}return void 0===style?node.innerHTML:void(""!==style?node.innerHTML=node.innerHTML+"\n"+style:head.removeChild(node))},domReady:function(onready){var doc=window.document;"complete"===doc.readyState?onready():isIE?(!function(){if(!doc.isReady){try{doc.documentElement.doScroll("left")}catch(error){return void setTimeout(arguments.callee,0)}onready()}}(),window.attachEvent("onload",function(){onready()})):(doc.addEventListener("DOMContentLoaded",function(){doc.removeEventListener("DOMContentLoaded",arguments.callee,!1),onready()},!1),window.addEventListener("load",function(){onready()},!1))},each:function(obj,iterator,context){if(null!=obj)if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++)if(iterator.call(context,obj[i],i,obj)===!1)return!1}else for(var key in obj)if(obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj)===!1)return!1},inArray:function(arr,item){var index=-1;return this.each(arr,function(v,i){if(v===item)return index=i,!1}),index},pushItem:function(arr,item){this.inArray(arr,item)==-1&&arr.push(item)},trim:function(str){return str.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},indexOf:function(array,item,start){var index=-1;return start=this.isNumber(start)?start:0,this.each(array,function(v,i){if(i>=start&&v===item)return index=i,!1}),index},hasClass:function(element,className){className=className.replace(/(^[ ]+)|([ ]+$)/g,"").replace(/[ ]{2,}/g," ").split(" ");for(var ci,i=0,cls=element.className;ci=className[i++];)if(!new RegExp("\\b"+ci+"\\b","i").test(cls))return!1;return i-1==className.length},addClass:function(elm,classNames){if(elm){classNames=this.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var ci,i=0,cls=elm.className;ci=classNames[i++];)new RegExp("\\b"+ci+"\\b").test(cls)||(cls+=" "+ci);elm.className=utils.trim(cls)}},removeClass:function(elm,classNames){classNames=this.isArray(classNames)?classNames:this.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var ci,i=0,cls=elm.className;ci=classNames[i++];)cls=cls.replace(new RegExp("\\b"+ci+"\\b"),"");cls=this.trim(cls).replace(/[ ]{2,}/g," "),elm.className=cls,!cls&&elm.removeAttribute("className")},on:function(element,type,handler){var types=this.isArray(type)?type:type.split(/\s+/),k=types.length;if(k)for(;k--;)if(type=types[k],element.addEventListener)element.addEventListener(type,handler,!1);else{handler._d||(handler._d={els:[]});var key=type+handler.toString(),index=utils.indexOf(handler._d.els,element);handler._d[key]&&index!=-1||(index==-1&&handler._d.els.push(element),handler._d[key]||(handler._d[key]=function(evt){return handler.call(evt.srcElement,evt||window.event)}),element.attachEvent("on"+type,handler._d[key]))}element=null},off:function(element,type,handler){var types=this.isArray(type)?type:type.split(/\s+/),k=types.length;if(k)for(;k--;)if(type=types[k],element.removeEventListener)element.removeEventListener(type,handler,!1);else{var key=type+handler.toString();try{element.detachEvent("on"+type,handler._d?handler._d[key]:handler)}catch(e){}if(handler._d&&handler._d[key]){var index=utils.indexOf(handler._d.els,element);index!=-1&&handler._d.els.splice(index,1),0==handler._d.els.length&&delete handler._d[key]}}},loadFile:function(){function getItem(doc,obj){try{for(var ci,i=0;ci=tmpList[i++];)if(ci.doc===doc&&ci.url==(obj.src||obj.href))return ci}catch(e){return null}}var tmpList=[];return function(doc,obj,fn){var item=getItem(doc,obj);if(item)return void(item.ready?fn&&fn():item.funs.push(fn));if(tmpList.push({doc:doc,url:obj.src||obj.href,funs:[fn]}),!doc.body){var html=[];for(var p in obj)"tag"!=p&&html.push(p+'="'+obj[p]+'"');return void doc.write("<"+obj.tag+" "+html.join(" ")+" ></"+obj.tag+">")}if(!obj.id||!doc.getElementById(obj.id)){var element=doc.createElement(obj.tag);delete obj.tag;for(var p in obj)element.setAttribute(p,obj[p]);element.onload=element.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(item=getItem(doc,obj),item.funs.length>0){item.ready=1;for(var fi;fi=item.funs.pop();)fi()}element.onload=element.onreadystatechange=null}},element.onerror=function(){throw Error("The load "+(obj.href||obj.src)+" fails,check the url")},doc.getElementsByTagName("head")[0].appendChild(element)}}}()};utils.each(["String","Function","Array","Number","RegExp","Object","Boolean"],function(v){utils["is"+v]=function(obj){return Object.prototype.toString.apply(obj)=="[object "+v+"]"}});var parselist={};UE.parse={register:function(parseName,fn){parselist[parseName]=fn},load:function(opt){utils.each(parselist,function(v){v.call(opt,utils)})}},uParse=function(selector,opt){utils.domReady(function(){var contents;if(document.querySelectorAll)contents=document.querySelectorAll(selector);else if(/^#/.test(selector))contents=[document.getElementById(selector.replace(/^#/,""))];else if(/^\./.test(selector)){var contents=[];utils.each(document.getElementsByTagName("*"),function(node){node.className&&new RegExp("\\b"+selector.replace(/^\./,"")+"\\b","i").test(node.className)&&contents.push(node)})}else contents=document.getElementsByTagName(selector);utils.each(contents,function(v){UE.parse.load(utils.extend({root:v,selector:selector},opt))})})}}(),UE.parse.register("insertcode",function(utils){var pres=this.root.getElementsByTagName("pre");if(pres.length)if("undefined"==typeof XRegExp){var jsurl,cssurl;void 0!==this.rootPath?(jsurl=utils.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCore.js",cssurl=utils.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCoreDefault.css"):(jsurl=this.highlightJsUrl,cssurl=this.highlightCssUrl),utils.loadFile(document,{id:"syntaxhighlighter_css",tag:"link",rel:"stylesheet",type:"text/css",href:cssurl}),utils.loadFile(document,{id:"syntaxhighlighter_js",src:jsurl,tag:"script",type:"text/javascript",defer:"defer"},function(){utils.each(pres,function(pi){pi&&/brush/i.test(pi.className)&&SyntaxHighlighter.highlight(pi)})})}else utils.each(pres,function(pi){pi&&/brush/i.test(pi.className)&&SyntaxHighlighter.highlight(pi)})}),UE.parse.register("table",function(utils){function findParentByTagName(target,tagNames){var i,current=target;for(tagNames=utils.isArray(tagNames)?tagNames:[tagNames];current;){for(i=0;i<tagNames.length;i++)if(current.tagName==tagNames[i].toUpperCase())return current;current=current.parentNode}return null}function sortTable(table,sortByCellIndex,compareFn){for(var rows=table.rows,trArray=[],flag="TH"===rows[0].cells[0].tagName,lastRowIndex=0,i=0,len=rows.length;i<len;i++)trArray[i]=rows[i];var Fn={reversecurrent:function(td1,td2){return 1},orderbyasc:function(td1,td2){var value1=td1.innerText||td1.textContent,value2=td2.innerText||td2.textContent;return value1.localeCompare(value2)},reversebyasc:function(td1,td2){var value1=td1.innerHTML,value2=td2.innerHTML;return value2.localeCompare(value1)},orderbynum:function(td1,td2){var value1=td1[utils.isIE?"innerText":"textContent"].match(/\d+/),value2=td2[utils.isIE?"innerText":"textContent"].match(/\d+/);return value1&&(value1=+value1[0]),value2&&(value2=+value2[0]),(value1||0)-(value2||0)},reversebynum:function(td1,td2){var value1=td1[utils.isIE?"innerText":"textContent"].match(/\d+/),value2=td2[utils.isIE?"innerText":"textContent"].match(/\d+/);return value1&&(value1=+value1[0]),value2&&(value2=+value2[0]),(value2||0)-(value1||0)}};table.setAttribute("data-sort-type",compareFn&&"string"==typeof compareFn&&Fn[compareFn]?compareFn:""),flag&&trArray.splice(0,1),trArray=sort(trArray,function(tr1,tr2){var result;return result=compareFn&&"function"==typeof compareFn?compareFn.call(this,tr1.cells[sortByCellIndex],tr2.cells[sortByCellIndex]):compareFn&&"number"==typeof compareFn?1:compareFn&&"string"==typeof compareFn&&Fn[compareFn]?Fn[compareFn].call(this,tr1.cells[sortByCellIndex],tr2.cells[sortByCellIndex]):Fn.orderbyasc.call(this,tr1.cells[sortByCellIndex],tr2.cells[sortByCellIndex])});for(var fragment=table.ownerDocument.createDocumentFragment(),j=0,len=trArray.length;j<len;j++)fragment.appendChild(trArray[j]);var tbody=table.getElementsByTagName("tbody")[0];lastRowIndex?tbody.insertBefore(fragment,rows[lastRowIndex-range.endRowIndex+range.beginRowIndex-1]):tbody.appendChild(fragment)}function sort(array,compareFn){compareFn=compareFn||function(item1,item2){return item1.localeCompare(item2)};for(var i=0,len=array.length;i<len;i++)for(var j=i,length=array.length;j<length;j++)if(compareFn(array[i],array[j])>0){var t=array[i];array[i]=array[j],array[j]=t}return array}function updateTable(table){if(!utils.hasClass(table.rows[0],"firstRow")){for(var i=1;i<table.rows.length;i++)utils.removeClass(table.rows[i],"firstRow");utils.addClass(table.rows[0],"firstRow")}}var me=this,root=this.root,tables=root.getElementsByTagName("table");if(tables.length){var selector=this.selector;utils.cssRule("table",selector+" table.noBorderTable td,"+selector+" table.noBorderTable th,"+selector+" table.noBorderTable caption{border:1px dashed #ddd !important}"+selector+" table.sortEnabled tr.firstRow th,"+selector+" table.sortEnabled tr.firstRow td{padding-right:20px; background-repeat: no-repeat;background-position: center right; background-image:url("+this.rootPath+"themes/default/images/sortable.png);}"+selector+" table.sortEnabled tr.firstRow th:hover,"+selector+" table.sortEnabled tr.firstRow td:hover{background-color: #EEE;}"+selector+" table{margin-bottom:10px;border-collapse:collapse;display:table;}"+selector+" td,"+selector+" th{ background:white; padding: 5px 10px;border: 1px solid #DDD;}"+selector+" caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}"+selector+" th{border-top:1px solid #BBB;background:#F7F7F7;}"+selector+" table tr.firstRow th{border-top:2px solid #BBB;background:#F7F7F7;}"+selector+" tr.ue-table-interlace-color-single td{ background: #fcfcfc; }"+selector+" tr.ue-table-interlace-color-double td{ background: #f7faff; }"+selector+" td p{margin:0;padding:0;}",document),utils.each("td th caption".split(" "),function(tag){var cells=root.getElementsByTagName(tag);cells.length&&utils.each(cells,function(node){node.firstChild||(node.innerHTML="&nbsp;")})});var tables=root.getElementsByTagName("table");utils.each(tables,function(table){/\bsortEnabled\b/.test(table.className)&&utils.on(table,"click",function(e){var target=e.target||e.srcElement,cell=findParentByTagName(target,["td","th"]),table=findParentByTagName(target,"table"),colIndex=utils.indexOf(table.rows[0].cells,cell),sortType=table.getAttribute("data-sort-type");colIndex!=-1&&(sortTable(table,colIndex,me.tableSortCompareFn||sortType),updateTable(table))})})}}),UE.parse.register("charts",function(utils){function parseSources(){return containers?extractChartData(containers):null}function extractChartData(rootNode){for(var tableNode,data=[],tables=rootNode.getElementsByTagName("table"),i=0;tableNode=tables[i];i++)null!==tableNode.getAttribute("data-chart")&&data.push(formatData(tableNode));return data.length?data:null}function formatData(tableNode){for(var row,meta=tableNode.getAttribute("data-chart"),metaConfig={},data=[],i=0;row=tableNode.rows[i];i++){for(var cell,rowData=[],j=0;cell=row.cells[j];j++){var value=cell.innerText||cell.textContent||"";rowData.push("TH"==cell.tagName?value:0|value)}data.push(rowData)}meta=meta.split(";");for(var metaData,i=0;metaData=meta[i];i++)metaData=metaData.split(":"),metaConfig[metaData[0]]=metaData[1];return{table:tableNode,meta:metaConfig,data:data}}function loadResources(){loadJQuery()}function loadJQuery(){window.jQuery?loadHighcharts():utils.loadFile(document,{src:resourceRoot+"/third-party/jquery-1.10.2.min.js",tag:"script",type:"text/javascript",defer:"defer"},function(){loadHighcharts()})}function loadHighcharts(){window.Highcharts?loadTypeConfig():utils.loadFile(document,{src:resourceRoot+"/third-party/highcharts/highcharts.js",tag:"script",type:"text/javascript",defer:"defer"},function(){loadTypeConfig()})}function loadTypeConfig(){utils.loadFile(document,{src:resourceRoot+"/dialogs/charts/chart.config.js",tag:"script",type:"text/javascript",defer:"defer"},function(){render()})}function render(){for(var config=null,chartConfig=null,container=null,i=0,len=sources.length;i<len;i++)config=sources[i],chartConfig=analysisConfig(config),container=createContainer(config.table),renderChart(container,typeConfig[config.meta.chartType],chartConfig)}function renderChart(container,typeConfig,config){$(container).highcharts($.extend({},typeConfig,{credits:{enabled:!1},exporting:{enabled:!1},title:{text:config.title,x:-20},subtitle:{text:config.subTitle,x:-20},xAxis:{title:{text:config.xTitle},categories:config.categories},yAxis:{title:{text:config.yTitle},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{enabled:!0,valueSuffix:config.suffix},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:1},series:config.series}))}function createContainer(tableNode){var container=document.createElement("div");return container.className="edui-chart-container",tableNode.parentNode.replaceChild(container,tableNode),container}function analysisConfig(config){var series=[],categories=[],result=[],data=config.data,meta=config.meta;if("1"!=meta.dataFormat){for(var i=0,len=data.length;i<len;i++)for(var j=0,jlen=data[i].length;j<jlen;j++)result[j]||(result[j]=[]),result[j][i]=data[i][j];data=result}if(result={},meta.chartType!=typeConfig.length-1){categories=data[0].slice(1);for(var curData,i=1;curData=data[i];i++)series.push({name:curData[0],data:curData.slice(1)});result.series=series,result.categories=categories,result.title=meta.title,result.subTitle=meta.subTitle,result.xTitle=meta.xTitle,result.yTitle=meta.yTitle,result.suffix=meta.suffix}else{for(var curData=[],i=1,len=data[0].length;i<len;i++)curData.push([data[0][i],0|data[1][i]]);series[0]={type:"pie",name:meta.tip,data:curData},result.series=series,result.title=meta.title,result.suffix=meta.suffix}return result}utils.cssRule("chartsContainerHeight",".edui-chart-container { height:"+(this.chartContainerHeight||300)+"px}");var resourceRoot=this.rootPath,containers=this.root,sources=null;resourceRoot&&(sources=parseSources())&&loadResources()}),UE.parse.register("background",function(utils){for(var styles,ci,me=this,root=me.root,p=root.getElementsByTagName("p"),i=0;ci=p[i++];)styles=ci.getAttribute("data-background"),styles&&ci.parentNode.removeChild(ci);styles&&utils.cssRule("ueditor_background",me.selector+"{"+styles+"}",document)}),UE.parse.register("list",function(utils){function applyStyle(nodes){var T=this;utils.each(nodes,function(list){if(list.className&&/custom_/i.test(list.className)){var listStyle=list.className.match(/custom_(\w+)/)[1];if("dash"==listStyle||"dot"==listStyle)utils.pushItem(customCss,selector+" li.list-"+customStyle[listStyle]+"{background-image:url("+T.liiconpath+customStyle[listStyle]+".gif)}"),utils.pushItem(customCss,selector+" ul.custom_"+listStyle+"{list-style:none;} "+selector+" ul.custom_"+listStyle+" li{background-position:0 3px;background-repeat:no-repeat}");else{var index=1;utils.each(list.childNodes,function(li){"LI"==li.tagName&&(utils.pushItem(customCss,selector+" li.list-"+customStyle[listStyle]+index+"{background-image:url("+T.liiconpath+"list-"+customStyle[listStyle]+index+".gif)}"),index++)}),utils.pushItem(customCss,selector+" ol.custom_"+listStyle+"{list-style:none;}"+selector+" ol.custom_"+listStyle+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(listStyle){case"cn":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:25px}"),utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:40px}"),utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-3{padding-left:55px}");break;case"cn1":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:30px}"),utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:40px}"),utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-3{padding-left:55px}");break;case"cn2":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:40px}"),utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:55px}"),utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:25px}");break;case"num2":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:35px}"),utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:40px}");break;case"dash":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft{padding-left:35px}");break;case"dot":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft{padding-left:20px}")}}})}var customCss=[],customStyle={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};utils.extend(this,{liiconpath:"http://bs.baidu.com/listicon/",listDefaultPaddingLeft:"20"});var root=this.root,ols=root.getElementsByTagName("ol"),uls=root.getElementsByTagName("ul"),selector=this.selector;ols.length&&applyStyle.call(this,ols),uls.length&&applyStyle.call(this,uls),(ols.length||uls.length)&&(customCss.push(selector+" .list-paddingleft-1{padding-left:0}"),customCss.push(selector+" .list-paddingleft-2{padding-left:"+this.listDefaultPaddingLeft+"px}"),customCss.push(selector+" .list-paddingleft-3{padding-left:"+2*this.listDefaultPaddingLeft+"px}"),utils.cssRule("list",selector+" ol,"+selector+" ul{margin:0;padding:0;}li{clear:both;}"+customCss.join("\n"),document))}),UE.parse.register("vedio",function(utils){var video=this.root.getElementsByTagName("video"),audio=this.root.getElementsByTagName("audio");if(document.createElement("video"),document.createElement("audio"),video.length||audio.length){var sourcePath=utils.removeLastbs(this.rootPath),jsurl=sourcePath+"/third-party/video-js/video.js",cssurl=sourcePath+"/third-party/video-js/video-js.min.css",swfUrl=sourcePath+"/third-party/video-js/video-js.swf";window.videojs?videojs.autoSetup():(utils.loadFile(document,{id:"video_css",tag:"link",rel:"stylesheet",type:"text/css",href:cssurl}),utils.loadFile(document,{id:"video_js",src:jsurl,tag:"script",type:"text/javascript"},function(){videojs.options.flash.swf=swfUrl,videojs.autoSetup()}))}})}();